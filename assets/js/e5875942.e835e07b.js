"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[69],{3905:(e,o,t)=>{t.d(o,{Zo:()=>c,kt:()=>d});var n=t(7294);function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function a(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?a(Object(t),!0).forEach((function(o){r(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function s(e,o){if(null==e)return{};var t,n,r=function(e,o){if(null==e)return{};var t,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||(r[t]=e[t]);return r}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),u=function(e){var o=n.useContext(l),t=o;return e&&(t="function"==typeof e?e(o):i(i({},o),e)),t},c=function(e){var o=u(e.components);return n.createElement(l.Provider,{value:o},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},b=n.forwardRef((function(e,o){var t=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=u(t),b=r,d=h["".concat(l,".").concat(b)]||h[b]||p[b]||a;return t?n.createElement(d,i(i({ref:o},c),{},{components:t})):n.createElement(d,i({ref:o},c))}));function d(e,o){var t=arguments,r=o&&o.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=b;var s={};for(var l in o)hasOwnProperty.call(o,l)&&(s[l]=o[l]);s.originalType=e,s[h]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<a;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}b.displayName="MDXCreateElement"},1773:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var n=t(7462),r=(t(7294),t(3905));const a={},i="Using Webhooks",s={unversionedId:"api-information/webhook-usage",id:"api-information/webhook-usage",title:"Using Webhooks",description:"The PersonalizePro API allows you to utilize webhooks to receive real-time updates about job processing status. Webhooks are an essential feature that enables you to track jobs from creation to completion. This guide will explain how to use webhooks effectively and securely within the PersonalizePro API.",source:"@site/docs/api-information/webhook-usage.md",sourceDirName:"api-information",slug:"/api-information/webhook-usage",permalink:"/docs/api-information/webhook-usage",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api-information/webhook-usage.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Using the Token System",permalink:"/docs/api-information/token-usage"},next:{title:"API - Endpoints",permalink:"/docs/category/api---endpoints"}},l={},u=[{value:"What is a Webhook?",id:"what-is-a-webhook",level:2},{value:"Using Webhooks with PersonalizePro API",id:"using-webhooks-with-personalizepro-api",level:2},{value:"Webhook Events",id:"webhook-events",level:2},{value:"Webhook Security",id:"webhook-security",level:2},{value:"Implementing Webhook Handling",id:"implementing-webhook-handling",level:2}],c={toc:u},h="wrapper";function p(e){let{components:o,...t}=e;return(0,r.kt)(h,(0,n.Z)({},c,t,{components:o,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"using-webhooks"},"Using Webhooks"),(0,r.kt)("p",null,"The PersonalizePro API allows you to utilize webhooks to receive real-time updates about job processing status. Webhooks are an essential feature that enables you to track jobs from creation to completion. This guide will explain how to use webhooks effectively and securely within the PersonalizePro API."),(0,r.kt)("h2",{id:"what-is-a-webhook"},"What is a Webhook?"),(0,r.kt)("p",null,"A webhook is a mechanism that allows an application to send real-time HTTP requests to a specified URL (your webhook endpoint) when certain events occur. In the context of the PersonalizePro API, you can define a webhook URL and a secret (bearer token) when creating a rendering job."),(0,r.kt)("h2",{id:"using-webhooks-with-personalizepro-api"},"Using Webhooks with PersonalizePro API"),(0,r.kt)("p",null,"When you create a rendering job in the PersonalizePro API, you have the option to define a webhook for that job. The job object will look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "webhook": {\n        "url": "http://localhost:3000/webhook",\n        "secret": "ey.gdb44678sgd749g.str5s7sb4"\n    },\n    "creation_data": {\n        "image_1": "64c4466cef34a47228f27c9a",\n        "image_2": "64c4466cef34a47228f27c9d",\n        "audio_name": "64c46b64ef34a47228f27cb0",\n        "audio_age": "64c46b74ef34a47228f27cb2",\n        "audio_hobby": "64c46b88ef34a47228f27cb4",\n        "audio_behavior": "64c46b9aef34a47228f27cb6",\n        "audio_advice": "64c46bbbef34a47228f27cb8"\n    },\n    "scenario_id": "12345"\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"webhook.url"),": Set the URL of your webhook endpoint where you want to receive updates about the job processing status. This endpoint should be hosted on your application server, and the API will send HTTP requests to this URL."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"webhook.secret"),": Use a bearer token as a secret to secure the communication between the API and your webhook endpoint. This token prevents unauthorized access and manipulation of your application.")),(0,r.kt)("h2",{id:"webhook-events"},"Webhook Events"),(0,r.kt)("p",null,"The PersonalizePro API will send webhook events to your defined endpoint at different stages of the job processing:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Job Created:")," The API will send an initial webhook event when the job is created successfully."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Job Processing:")," During the processing of the job (e.g., rendering video), the API will update the webhook endpoint with progress information."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Job Completed:")," When the job processing is complete, the API will send a final webhook event to notify you that the job is done.")),(0,r.kt)("h2",{id:"webhook-security"},"Webhook Security"),(0,r.kt)("p",null,"To ensure the security of your webhook communication, it is essential to use a bearer token (webhook secret) as described above. By validating this token on your application server, you can confirm the authenticity of requests received from the PersonalizePro API. This prevents unauthorized access to your application and data."),(0,r.kt)("h2",{id:"implementing-webhook-handling"},"Implementing Webhook Handling"),(0,r.kt)("p",null,"To utilize webhooks effectively, you need to implement webhook handling on your application server. When your webhook endpoint receives requests from the API, your server should process the incoming data, validate the bearer token, and take appropriate actions based on the event received (e.g., update the job status in your database, notify users, etc.)."),(0,r.kt)("p",null,"Remember to handle webhook events gracefully and handle potential errors to ensure the reliability of your webhook communication."))}p.isMDXComponent=!0}}]);